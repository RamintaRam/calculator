<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">


    <!--istrinti pasikartojancius-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <!--<script src="js/data.js"></script>-->
    <!--<script src="js/setting_buttons.js"></script>-->

    <script language="JavaScript" type="text/javascript" src="/js/jquery-1.2.6.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="/js/jquery-ui-personalized-1.5.2.packed.js"></script>
    <script language="JavaScript" type="text/javascript" src="/js/sprinkle.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link rel="stylesheet" href="css.css">


    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body id="field">


<script>
    var data = [
        {"id": "clear", "type": "action", "value": "C", "class": "btn btn-default"},
        {"id": "zero", "type": "number", "value": "0", "class": "btn btn-info"},
        {"id": "one", "type": "number", "value": "1", "class": "btn btn-info"},
        {"id": "two", "type": "number", "value": "2", "class": "btn btn-info"},
        {"id": "division", "type": "action", "value": "/", "class": "btn btn-default disable"},
        {"id": "three", "type": "number", "value": "3", "class": "btn btn-info"},
        {"id": "four", "type": "number", "value": "4", "class": "btn btn-info"},
        {"id": "five", "type": "number", "value": "5", "class": "btn btn-info"},
        {"id": "multi", "type": "action", "value": "x", "class": "btn btn-default disable"},
        {"id": "six", "type": "number", "value": "6", "class": "btn btn-info"},
        {"id": "seven", "type": "number", "value": "7", "class": "btn btn-info"},
        {"id": "eight", "type": "number", "value": "8", "class": "btn btn-info"},
        {"id": "equal", "type": "action", "value": "=", "class": "btn btn-default disable"},
        {"id": "nine", "type": "number", "value": "9", "class": "btn btn-info"},
        {"id": "dot", "type": "number", "value": ".", "class": "btn btn-default"},
        {"id": "percent", "type": "action", "value": "%", "class": "btn btn-default disable"},
        {"id": "minus", "type": "action", "value": "-", "class": "btn btn-default disable"},
        {"id": "plus-minus", "type": "action", "value": "+-", "class": "btn btn-info disable"},
        {"id": "plus", "type": "action", "value": "+", "class": "btn btn-default disable"},
        {"id": "root", "type": "action", "value": "√", "class": "btn btn-default disable"},
        {"id": "backspace", "type": "action", "value": "<|", "class": "btn btn-default"}


    ];


    $("<input>").attr(
        {
            name: "textfield",
            id: "input",
            type: "text",
            value: 0,
            readonly: "readonly"
        }
    ).appendTo('#field');


    $(document).ready(function () {
//        $("#field").append("<input>");
        $.each(data, function (key, data) {
            $("#field").append($("<button>" + data.value + '</button>')
                .attr("type", data.type).attr("value", data.value)
                .attr("class", data.class).attr("id", data.id).attr("disabled", false));
        });

    });

    $(document).ready(function () {
        $(".btn").click(handleClick);
    });


    var a = "0";

    function handleClick(e) {
        var $b = $(e.currentTarget);
        if ($b.attr("type") === "number") {
            switch ($b.val()) {
                case ".":
                    if (a.indexOf(".") === -1) {
                        a += $b.val();
                        $("#input").val(a);
                    }
                    break;

                case "0":
                    if (a.length === 1 && a === "0") {
                    }
                    else {
                        a += $b.val();
                        $("#input").val(a);
                    }
                    break;

                default:
                    if (a.length === 1 && a === "0")
                        a = $b.val();
                    else
                        a += $b.val();

                    $("#input").val(a);

                    console.log("action");
            }

        }
        else if ($b.attr("type") === "action") {
            switch ($b.val()) {
                case 'C':
                    a = '0';
                    $("#input").val(a);
                    $(".disable").attr("disabled", false);

                    break;

                case '<|':

                    a = a.slice(0, -1);

                    if (a.length < 1)
                        a = '0';

                    $("#input").val(a);

                    break;

                case '+-':

                    if (a[0] === "-") {
                        a = a.substring(1, a.length);

                    }
                    else {
                        if (a !== "0") {
                            a = "-" + a;
                        }
                    }

                    $("#input").val(a);

                    break;

                case '+':
                case '-':
                case 'x':
                case '/':
                case '%':
                case '√':

                    action = $b.val();
                    $(".disable").attr("disabled", true);

                    a += '' + action + '';
                    $("#input").val(a);
            }
        }
    }


    function updateNumber(value, increment ) {
        if(!action)
            a += value;
        else
            b += value;
    }


</script>


</body>


</html>



